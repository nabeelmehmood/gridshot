(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{20:function(e,t,c){e.exports={gameOverlay:"GameOverlay_gameOverlay__11lfk",counter:"GameOverlay_counter__10t_X",count:"GameOverlay_count__1Jwug",finishedOverlay:"GameOverlay_finishedOverlay__3Uj9q"}},37:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){"use strict";c.r(t);var s,n=c(5),i=c(30),r=c.n(i),o=c(46),a=c(19),j=c(10),l=c(12),u=c(11),d=c(6),b=Object(n.createContext)(),O="NOT_STARTED",x="START_TIMER",f="STARTED",h="FINISHED",p=10,m=5,v=function(e){var t=e.children,c=Object(n.useState)(60),i=Object(u.a)(c,2),r=i[0],o=i[1],a=Object(n.useState)(O),j=Object(u.a)(a,2),l=j[0],p=j[1],m=Object(n.useState)(0),v=Object(u.a)(m,2),y=v[0],S=v[1],k=Object(n.useState)(0),C=Object(u.a)(k,2),g=C[0],T=C[1];return Object(n.useEffect)((function(){l===x&&(s=setInterval((function(){o((function(e){return e>1?e-1:(clearInterval(s),p(h),0)}))}),1e3),p(f)),l===h&&clearInterval(s)}),[l]),Object(d.jsx)(b.Provider,{value:{timeLeft:r,setTimeLeft:o,score:y,setScore:S,gameStart:l,setGameStart:p,totalClicks:g,setTotalClicks:T},children:t})},y=function(e){for(var t=Math.floor(21*Math.random());e.includes(t);)t=Math.floor(21*Math.random());return t},S=function(e){var t=e.setScore,c=void 0===t?function(){}:t,s=Object(n.useState)([]),i=Object(u.a)(s,2),r=i[0],o=i[1];Object(n.useEffect)((function(){o([y([]),y([]),y([])])}),[]);var a=Object(n.useCallback)((function(e){var t=e.position,s=e.id;return Object(d.jsxs)("mesh",{onClick:function(e){var t=e.object.sphereId,s=y(r),n=Object(l.a)(r).filter((function(e){return e!==t}));n.push(s),o(n),c((function(e){return e+1}))},sphereId:s,position:t,children:[Object(d.jsx)("sphereGeometry",{}),Object(d.jsx)("meshPhysicalMaterial",{color:"red"})]})}),[r]);return Object(d.jsxs)("group",{position:[0,0,-9],children:[r.includes(0)&&Object(d.jsx)(a,{id:0,position:[9,1,0]}),r.includes(1)&&Object(d.jsx)(a,{id:1,position:[6,1,0]}),r.includes(2)&&Object(d.jsx)(a,{id:2,position:[3,1,0]}),r.includes(3)&&Object(d.jsx)(a,{id:3,position:[0,1,0]}),r.includes(4)&&Object(d.jsx)(a,{id:4,position:[-3,1,0]}),r.includes(5)&&Object(d.jsx)(a,{id:5,position:[-6,1,0]}),r.includes(6)&&Object(d.jsx)(a,{id:6,position:[-9,1,0]}),r.includes(7)&&Object(d.jsx)(a,{id:7,position:[9,4,0]}),r.includes(8)&&Object(d.jsx)(a,{id:8,position:[6,4,0]}),r.includes(9)&&Object(d.jsx)(a,{id:9,position:[3,4,0]}),r.includes(10)&&Object(d.jsx)(a,{id:10,position:[0,4,0]}),r.includes(11)&&Object(d.jsx)(a,{id:11,position:[-3,4,0]}),r.includes(12)&&Object(d.jsx)(a,{id:12,position:[-6,4,0]}),r.includes(13)&&Object(d.jsx)(a,{id:13,position:[-9,4,0]}),r.includes(14)&&Object(d.jsx)(a,{id:14,position:[9,7,0]}),r.includes(15)&&Object(d.jsx)(a,{id:15,position:[6,7,0]}),r.includes(16)&&Object(d.jsx)(a,{id:16,position:[3,7,0]}),r.includes(17)&&Object(d.jsx)(a,{id:17,position:[0,7,0]}),r.includes(18)&&Object(d.jsx)(a,{id:18,position:[-3,7,0]}),r.includes(19)&&Object(d.jsx)(a,{id:19,position:[-6,7,0]}),r.includes(20)&&Object(d.jsx)(a,{id:20,position:[-9,7,0]})]})},k=(c(37),function(){var e=Object(n.useRef)(),t=Object(n.useContext)(b),c=t.gameStart,s=t.setGameStart,i=t.setTimeLeft,r=t.setScore,l=t.setTotalClicks;Object(n.useEffect)((function(){}),[e]),Object(n.useEffect)((function(){c===h&&e.current.unlock()}),[c]);return Object(d.jsxs)(a.a,{onCreated:function(t){var c=document.querySelector("#cursor"),n=document.querySelector("#startOverlay");e.current.addEventListener("lock",(function(){document.body.style.cursor="none",c.style.display="initial",n.style.display="none",i(60),s(x),r(0),l(0)})),e.current.addEventListener("unlock",(function(){document.body.style.cursor="initial",c.style.display="none",n.style.display="block",e.current&&e.current.camera&&e.current.camera.rotation.set(0,0,0),s(h)})),e.current.addEventListener("change",(function(t){var c=new j.Vector3;e.current.getDirection(c)}))},children:[Object(d.jsx)("pointLight",{castShadow:!0,color:"#fff",position:[0,4,10],intensity:2}),Object(d.jsx)("ambientLight",{intensity:1}),Object(d.jsx)(S,{setScore:r}),Object(d.jsxs)("mesh",{scale:[20,10,18],position:[0,4,0],children:[Object(d.jsx)("boxGeometry",{}),Object(d.jsx)("meshPhysicalMaterial",{metalness:.7,roughness:2,color:"#fff",side:j.DoubleSide})]}),Object(d.jsx)(o.a,{selector:"#startButton",ref:e})]})}),C=function(){var e=Object(n.useRef)(),t=function(t){e.current&&(e.current.style.left="".concat(t.clientX,"px"),e.current.style.top="".concat(t.clientY,"px"))};return Object(n.useEffect)((function(){return document.body.addEventListener("mousemove",t),function(){return document.body.removeEventListener("mousemove",t)}}),[]),Object(d.jsx)("span",{ref:e,id:"cursor",className:"cursor"})},g=c(20),T=c.n(g),E=function(){var e=Object(n.useContext)(b),t=e.timeLeft,c=e.score,s=e.totalClicks,i=e.gameStart,r=i===h||i===O,o=c*p-(s-c)*m,a=s-c,j=(c/s*100).toFixed(2);return Object(d.jsxs)("div",{class:T.a.gameOverlay,children:[Object(d.jsxs)("div",{className:T.a.counter,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{children:"Time left:"}),Object(d.jsx)("span",{className:T.a.count,children:t})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{children:"Current score:"}),Object(d.jsx)("span",{className:T.a.count,children:o})]})]}),r&&Object(d.jsxs)("div",{className:T.a.finishedOverlay,children:[Object(d.jsxs)("span",{children:["Score: ",o]}),Object(d.jsxs)("span",{children:["Hits: ",c]}),Object(d.jsxs)("span",{children:["Total Clicks: ",s]}),Object(d.jsxs)("span",{children:["Misses: ",a]}),Object(d.jsxs)("span",{children:["Accuracy: ",j,"%"]})]})]})},_=(c(41),function(){var e=Object(n.useContext)(b),t=e.gameStart,c=e.setGameStart,s=t===h;return Object(d.jsxs)("div",{id:"startOverlay",children:[Object(d.jsx)("h3",{className:"text",children:"Click the yellow circle in the center to start. Press ESC to exit."}),Object(d.jsx)("div",{id:"startButton",className:s?"disableStart":""}),!s&&Object(d.jsx)("div",{className:"clickTip",children:"Click the Yellow circle"}),s&&Object(d.jsx)("button",{className:"retryButton",onClick:function(){return c(O)},children:"Try Again?"})]})}),L=function(){var e=Object(n.useContext)(b),t=e.gameStart,c=e.setTotalClicks;return Object(d.jsxs)("div",{onClick:function(e){t===f&&c((function(e){return e+1}))},style:{height:"100vh",width:"100vw"},children:[Object(d.jsx)(k,{}),Object(d.jsx)(C,{}),Object(d.jsx)(_,{}),Object(d.jsx)(E,{})]})};c(42);function N(){return Object(d.jsx)(v,{children:Object(d.jsx)(L,{})})}var w=document.getElementById("root");r.a.render(Object(d.jsx)(n.StrictMode,{children:Object(d.jsx)(N,{})}),w)}},[[43,1,2]]]);
//# sourceMappingURL=main.4de3cfa9.chunk.js.map